<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Card Game Test</title>
	</head>
	<body>

		<button onclick="ReadList();">Try It!</button>
		<button id="draw">Draw a card!</button>

		<div id="head">
			<div class="name">
			</div>
			<div class="drain">
			</div>
			<div class="durability">
			</div>
			<div class="dmg">
			</div>
			<div class="rld">
			</div>
			<div class="effects">
			</div>
		</div>
		<div id="torso">
			<div class="name">
			</div>
			<div class="drain">
			</div>
			<div class="durability">
			</div>
			<div class="dmg">
			</div>
			<div class="rld">
			</div>
			<div class="effects">
			</div>
		</div>
		<div id="larm">
			<div class="name">
			</div>
			<div class="drain">
			</div>
			<div class="durability">
			</div>
			<div class="dmg">
			</div>
			<div class="rld">
			</div>
			<div class="effects">
			</div>
		</div>
		<div id="rarm">
			<div class="name">
			</div>
			<div class="drain">
			</div>
			<div class="durability">
			</div>
			<div class="dmg">
			</div>
			<div class="rld">
			</div>
			<div class="effects">
			</div>
		</div>
		<div id="legs">
			<div class="name">
			</div>
			<div class="drain">
			</div>
			<div class="durability">
			</div>
			<div class="dmg">
			</div>
			<div class="rld">
			</div>
			<div class="effects">
			</div>
		</div>

		<script src="js/papaparse.min.js"></script>
		<script src="js/jquery-3.3.1.min.js"></script>
		<script src="js/jquery.csv.js"></script>

		<script>
			var cardsRaw = "CardList.csv";
			var cardList;
			var battery = 12;
			var health = 100;
			var barrier = 0;
			var armor = 0;
			var deck = [];
			
			function ReadList () {
				console.log("happening!");
				Papa.parse(cardList, {
					header: true,
					dynamicTyping: true,
					complete: function (results) {
						data = results;
						console.log(data);
					}
				});
			}

			$(document).ready(function () {
				cardList = $.csv.toObjects(cardsRaw);
				console.log(cardList);
			});
			
			var name = "Steel Sword";
			var type = "part";
			var part = "arm";
			var rarm = true;
			var faction = "metal";
			var drain = 0;
			var dmg = 6;
			var rld = 0;
			var effects = "Melee";

			$("#draw").click(function () {
				PlayCard(name, type, part, faction, drain, dmg, rld, effects);
			});
			
			function PlayCard (name,type, part, faction, drain, dmg, rld, effects) {
				if (type == "part") {
					if (part == "arm") {
						if (rarm) {
							$("#rarm .name").text(name);
							$("#rarm .drain").text(drain);
							$("#rarm .durability").text("3");
							$("#rarm .dmg").text(dmg);
							$("#rarm .rld").text(rld);
							$("#rarm .effects").text(effects);
						}else {

						}
					}
					switch (part) {
						case "head":
							
							break;
						case "torso":

							break;
						case "legs":

							break;
						default:
							break;
					}
				}

				
			}
		</script>
	</body>
</html>
